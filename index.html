
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>FB Graph!</title>
	<meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://ngix-uy.github.io/.info/bootstrap.css" media="screen" rel="stylesheet">
	<link rel="stylesheet" href="https://bootswatch.com/3/cerulean/bootstrap.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://ngix-uy.github.io/.info/multiselect.css" type="text/css"/>
	<link href="https://ngix-uy.github.io/.info/custom.min.css" rel="stylesheet">
	<style>
* {
	font-size: 100%;
	font-family: Segoe UI;
	}
.mbuh {margin: -5px;border:none; box-sizing: border-box;border-bottom: none;}.rg-source-and-credit{font-family:Georgia,"Times New Roman",Times,serif;width:100%;overflow:hidden;margin-top:1em}.rg-source{color:#7f7f7f;margin:0;float:left;font-weight:700;font-size:.75em;line-height:1.5em}.rg-source-0{color:#7f7f7f;margin:0;float:left;clear:both;font-weight:700;font-size:.75em;line-height:0.5em}.rg-source .pre-colon{text-transform:uppercase}

    </style>

	  <!-- This is what you need -->
    <script src="https://unpkg.com/sweetalert@2.1.2/dist/sweetalert.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@8"></script>
      <!--.......................-->
</head>

<body>
    <div class="container" style="width:1100px;">
<ul class="breadcrumb">

  </ul>
        <div class="pull-left">
	<div class="container" style="width:500px;">
		<div class="panel panel-primary">
			<div class="panel-heading"><strong  style="cursor: help;" class="btn-default btn-sm">Facebook Graph API (Profile Liker)</strong></div>
			<div class="panel-body">
				<strong class="rg-source">* Facebook Friends UID</strong>
				<textarea class="form-control ui" id="uid" name="uid" rows="18" style="resize:none;" autofocus=""></textarea><hr class="line">
				<strong class="rg-source">* Access Token: (<font size="3" color="#F86B69">Ambil dari FB bahasa Indonesia!</font>)</strong>
				<input type="text" class="form-control" placeholder="EAAWZA5YNHROMBABVZCAAeZAGCyv2...." id="access_token" name="access_token">
			</div>
			<div class="panel-footer">
			<button class="form-control btn btn-primary btn-sm" id="btn" data-loading-text="Send ..."><strong>GET Friend UID</strong></button>
		</div></div></div></div>
		
		<div class="pull-left">
		<div class="container" style="width:500px;">
		       <div class="panel panel-primary">
          <div class="panel-heading">
          <div class="group-btn text-right">
          <strong  style="cursor: help;" id="dwn-btn" class="btn-default btn-sm">Download UID</strong>
          </div>
        </div>
        <div class="panel-body">
            <textarea class="form-control" id="text-val" name="text-val" rows="25" style="resize:none;" readonly="readonly"></textarea>
      </div>
      </div>
      <div class="rg-source"><span class="pre-colon">SOURCE</span>: <span class="post-colon">NGIX!</span></div>
</div></div>
</div>
	<script src="https://code.jquery.com/jquery-2.2.4.min.js" type="text/javascript"></script>
	<script src="https://ngix-uy.github.io/.info/multiselect.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<script src="https://ngix-uy.github.io/.info/custom.js"></script>
	<script>
		$(document).ready(function() {

    $("#btn").click(function() {
        if (!$("#uid").val()||!$("#access_token").val()) {
            swal.fire({
                position: 'top-end',
                type: 'error',
                title: 'Required all fields!',
                showConfirmButton: false,
                timer: 750
            });
            btn.button('reset');
            return false;
        }
        else{
        return false;
        }
    });

		    $('.ui').prop('placeholder','[""]');
			var access_token, uid, btn;
			$("#btn").click(function() {
				uid          = $.trim($("#uid").val()).split("\n"),
				access_token = $("#access_token").val(),
				btn          = $(this);
				btn.button('loading');
				start(0);

			});
	function start(start) {
	    for (var i = 0; i < uid.length; i++) { 
					$.getJSON('api.php?uid=' + uid[i], {
					    access_token: access_token
					}).done(function(response) {

var jsonObj = jQuery.parseJSON(JSON.stringify(response));
for(var l = 0; l < jsonObj.length; l++){
$("#text-val").append(jsonObj[l]['id'] + '\n');
}
					}).always(function() {
						if (i + 1 < uid.length) {
								start(i + 1);
						} else {
							//btn.button('reset');
						}
					});
			}
	}
function download(filename, text) {
    var element = document.createElement('a');
    element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));
    element.setAttribute('download', filename);

    element.style.display = 'none';
    document.body.appendChild(element);

    element.click();

    document.body.removeChild(element);
}

// Start file download.
document.getElementById("dwn-btn").addEventListener("click", function(){
    // Generate download of hello.txt file with some content
    var text = document.getElementById("text-val").value;
    var d = new Date();
    var n = d.getTime();
    var filename = n+".txt";

    
    download(filename, text);
}, false);
		});

	</script>
</body>
</html>
